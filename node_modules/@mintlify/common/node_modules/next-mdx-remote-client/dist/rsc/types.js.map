{"version":3,"file":"types.js","sourceRoot":"","sources":["../../src/rsc/types.ts"],"names":[],"mappings":"AAAA;;;GAGG","sourcesContent":["/**\n * Copyright (c) @talatkuyuk AKA @ipikuka\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport type { EvaluateOptions as OriginalEvaluateOptions } from \"@mdx-js/mdx\";\nimport type { MDXComponents } from \"mdx/types\";\nimport type { Compatible } from \"vfile\";\n\nimport type { VfileDataIntoScope } from \"../lib/util.js\";\n\nexport type Prettify<T> = { [K in keyof T]: T[K] } & {};\n\nexport type EvaluateProps<TScope extends Record<string, unknown> = Record<string, unknown>> = {\n  /**\n   * markdown or MDX source.\n   */\n  source: Compatible;\n  /**\n   * evaluate options.\n   */\n  options?: EvaluateOptions<TScope>;\n  /**\n   * An object mapping names to React components.\n   * The key used will be the name accessible to MDX.\n   *\n   * For example: `{ ComponentName: Component }` will be accessible in the MDX as `<ComponentName/>`.\n   */\n  components?: MDXComponents;\n};\n\nexport type EvaluateOptions<TScope extends Record<string, unknown> = Record<string, unknown>> =\n  {\n    /**\n     * These options are passed to the MDX compiler.\n     * See [the MDX docs.](https://github.com/mdx-js/mdx/blob/master/packages/mdx/index.js).\n     */\n    mdxOptions?: EvaluateMdxOptions;\n    /**\n     * Whether or not strip out \"export\"s from MDX. Defaults to false, which means it does NOT strip out.\n     */\n    disableExports?: boolean;\n    /**\n     * Whether or not strip out \"import\"s from MDX. Defaults to false, which means it does NOT strip out.\n     */\n    disableImports?: boolean;\n    /**\n     * Indicates whether or not the frontmatter should be parsed out of the MDX. Defaults to false.\n     */\n    parseFrontmatter?: boolean;\n    /**\n     * An arbitrary object of data which will be supplied to the MDX.\n     *\n     * For example, in cases where you want to provide template variables to the MDX, like `my name is {name}`,\n     * you could provide scope as `{ name: \"Some name\" }`.\n     */\n    scope?: TScope;\n    /**\n     * Compiled source vfile.data may hold some extra information.\n     * Some field names in vfile.data may be needed to pass into the scope.\n     * If you need to change the name of the field, specify it { name: string; as: string } while passing.\n     * if the scope has the same key already, vfile.data overrides it.\n     */\n    vfileDataIntoScope?: VfileDataIntoScope;\n    /**\n     * for debugging\n     */\n    debug?: {\n      compiledSource?: boolean;\n    };\n  };\n\ntype EvaluateMdxOptions = Omit<\n  OriginalEvaluateOptions,\n  | \"Fragment\"\n  | \"jsx\"\n  | \"jsxs\"\n  | \"jsxDEV\"\n  | \"useMDXComponents\"\n  | \"providerImportSource\"\n  | \"outputFormat\"\n>;\n\nexport type EvaluateResult<\n  TFrontmatter = Record<string, unknown>,\n  TScope = Record<string, unknown>,\n> = {\n  /**\n   * React element that renders the MDX source using the component names mapping object.\n   */\n  content: React.JSX.Element;\n  /**\n   * An object which holds any value that is exported from the MDX file.\n   */\n  mod: Record<string, unknown> | { [key: string]: never };\n  /**\n   * the parsed frontmatter found in the MDX source if parseFrontmatter is set to true.\n   */\n  frontmatter: TFrontmatter;\n  /**\n   * The scope can be mutated during the compile process, and you may want to get it back.\n   *\n   */\n  scope: TScope;\n  /**\n   * The error object if construction of the compiled source is failed, or\n   * compilation of the source is failed due to MDX syntax error.\n   */\n  error?: Error;\n};\n\nexport type MDXRemoteProps = Prettify<\n  EvaluateProps & {\n    onError?: React.ComponentType<{ error: Error }>;\n  }\n>;\n\nexport type MDXRemoteOptions = EvaluateOptions;\n"]}