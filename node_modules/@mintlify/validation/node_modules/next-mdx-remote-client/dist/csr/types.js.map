{"version":3,"file":"types.js","sourceRoot":"","sources":["../../src/csr/types.ts"],"names":[],"mappings":"AAAA;;;GAGG","sourcesContent":["/**\n * Copyright (c) @talatkuyuk AKA @ipikuka\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport type {\n  CompileOptions as OriginalCompileOptions,\n  RunOptions as OriginalRunOptions,\n} from \"@mdx-js/mdx\";\nimport type { MDXComponents } from \"mdx/types\";\nimport type { Compatible } from \"vfile\";\n\nimport type { VfileDataIntoScope } from \"../lib/util.js\";\n\nexport type Prettify<T> = { [K in keyof T]: T[K] } & {};\n\nexport type SerializeProps<TScope extends Record<string, unknown> = Record<string, unknown>> = {\n  /**\n   * markdown or MDX source.\n   */\n  source: Compatible;\n  /**\n   * serialize options.\n   */\n  options?: SerializeOptions<TScope>;\n};\n\nexport type SerializeOptions<TScope extends Record<string, unknown> = Record<string, unknown>> =\n  {\n    /**\n     * These options are passed to the MDX compiler.\n     * See [the MDX docs.](https://github.com/mdx-js/mdx/blob/master/packages/mdx/index.js).\n     */\n    mdxOptions?: SerializeMdxOptions;\n    /**\n     * Whether or not strip out \"export\"s from MDX. Defaults to false, which means it does NOT strip out.\n     */\n    disableExports?: boolean;\n    /**\n     * Whether or not strip out \"import\"s from MDX. Defaults to false, which means it does NOT strip out.\n     */\n    disableImports?: boolean;\n    /**\n     * Indicates whether or not the frontmatter should be parsed out of the MDX. Defaults to false.\n     */\n    parseFrontmatter?: boolean;\n    /**\n     * An arbitrary object of data which will be supplied to the MDX.\n     *\n     * For example, in cases where you want to provide template variables to the MDX, like `my name is {name}`,\n     * you could provide scope as `{ name: \"Some name\" }`.\n     */\n    scope?: TScope;\n    /**\n     * Compiled source vfile.data may hold some extra information.\n     * Some field names in vfile.data may be needed to pass into the scope.\n     * If you need to change the name of the field, specify it { name: string; as: string } while passing.\n     * if the scope has the same key already, vfile.data overrides it.\n     */\n    vfileDataIntoScope?: VfileDataIntoScope;\n  };\n\ntype SerializeMdxOptions = Omit<\n  OriginalCompileOptions,\n  \"outputFormat\" | \"providerImportSource\"\n>;\n\nexport type SerializeResult<\n  TFrontmatter = Record<string, unknown>,\n  TScope = Record<string, unknown>,\n> = Prettify<\n  (\n    | {\n        /**\n         * The compiledSource, generated from the serialize function\n         */\n        compiledSource: string;\n      }\n    | {\n        /**\n         * The formatted MDX error object if compilation of the source is failed.\n         */\n        error: Error;\n      }\n  ) & {\n    /**\n     * If parseFrontmatter was set to true, contains any parsed frontmatter found in the MDX source.\n     */\n    frontmatter: TFrontmatter;\n    /**\n     * An arbitrary object of data which will be supplied to the MDX.\n     *\n     * For example, in cases where you want to provide template variables to the MDX, like `my name is {name}`,\n     * you could provide scope as `{ name: \"Some name\" }`.\n     */\n    scope: TScope;\n  }\n>;\n\nexport type HydrateProps = {\n  /**\n   * The compiledSource, generated from the serialize function\n   */\n  compiledSource: string;\n  /**\n   * If parseFrontmatter was set to true, contains any parsed frontmatter found in the MDX source.\n   */\n  frontmatter?: Record<string, unknown>;\n  /**\n   * Indicates whether or not the frontmatter should be parsed out of the MDX. Defaults to false.\n   */\n  scope?: Record<string, unknown>;\n  /**\n   * An object mapping names to React components.\n   * The key used will be the name accessible to MDX.\n   *\n   * For example: `{ ComponentName: Component }` will be accessible in the MDX as `<ComponentName/>`.\n   */\n  components?: MDXComponents;\n  /**\n   * Disable parent context\n   *\n   * @see https://github.com/mdx-js/mdx/blob/8f754f707207915bd34c3af8f9064e367c125a58/packages/react/lib/index.js#L70\n   */\n  disableParentContext?: boolean;\n};\n\nexport type HydrateResult = {\n  /**\n   * React element that renders the MDX compiled source using the component names mapping object.\n   */\n  content: React.JSX.Element;\n  /**\n   * An object which holds any value that is exported from the MDX file.\n   */\n  mod: Record<string, unknown> | { [key: string]: never };\n  /**\n   * The error object if construction of the compiled source is failed.\n   */\n  error?: Error;\n};\n\nexport type MDXClientProps = Prettify<\n  HydrateProps & {\n    onError?: React.ComponentType<{ error: Error }>;\n  }\n>;\n\nexport type HydrateAsyncProps = Prettify<\n  HydrateProps & {\n    /**\n     * hydrate options which is experimental for hydrateAsync only. It is INEFFECTIVE for hydrate and hydrateLazy.\n     */\n    options?: HydrateAsyncOptions;\n    /**\n     * fallback loading component\n     */\n    loading?: () => React.JSX.Element;\n  }\n>;\n\nexport type HydrateAsyncOptions = {\n  /**\n   * All RunOptions are pre-defined except the \"baseUrl\"\n   */\n  baseUrl?: OriginalRunOptions[\"baseUrl\"];\n};\n\nexport type MDXClientAsyncProps = Prettify<\n  HydrateAsyncProps & {\n    onError?: React.ComponentType<{ error: Error }>;\n  }\n>;\n\nexport type MDXClientAsyncOptions = HydrateAsyncOptions;\n"]}